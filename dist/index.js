!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.index=t():e.index=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(2),r=n.n(o);t.default={install:function(e,t){e.directive("query",{inserted:function(e){new i.a(r.a,e)},unbind:function(e){r.a.detach(e)}})}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){i(this,e),this.ResizeSensor=t,this.breakpoints={"min-width":[],"max-width":[]},this.init(n)}return o(e,[{key:"init",value:function(e){this.setBreakpoints(e),this.watchElement(e),this.setInitialResize(e)}},{key:"setInitialResize",value:function(e){e.resizedAttached.call()}},{key:"watchElement",value:function(e){var t=this;new this.ResizeSensor(e,function(){e.setAttribute("min-width",t.setMinWidth(e.clientWidth)),e.setAttribute("max-width",t.setMaxWidth(e.clientWidth))})}},{key:"setBreakpoints",value:function(e){var t=this;this.crawlStylesheets(document,function(n){t.readRules(n,function(n){t.matchesScope(e,n.selectorText)&&t.breakpoints[n.selector].push(n.value)})})}},{key:"matchesScope",value:function(e,t){var n=this.getScopeTag(e);return t.match(n)}},{key:"getScopeTag",value:function(e){var t=Object.keys(e.dataset).find(function(e){return e.match(/v-/)});return t?new RegExp(t):(console.error("[VueElementQuery] Vue element queries only work on scoped stylesheets. Did you forget to add `scoped` to your stylesheet?",e),null)}},{key:"setMinWidth",value:function(e){return this.breakpoints["min-width"].reduce(function(t,n){return e>=n?t+n+"px ":t},"").slice(0,-1)}},{key:"setMaxWidth",value:function(e){return this.breakpoints["max-width"].reduce(function(t,n){return e<=n?t+n+"px ":t},"").slice(0,-1)}},{key:"crawlStylesheets",value:function(e,t){for(var n=0,i=e.styleSheets.length;n<i;n++)this.ifValidRules(e.styleSheets[n],t)}},{key:"ifValidRules",value:function(e,t){e.cssRules&&t(e.cssRules)}},{key:"readRules",value:function(e,t){this.crawlRules(e,function(e){t(e)})}},{key:"crawlRules",value:function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].selectorText&&this.getValidSelector(e[n].selectorText,t)}},{key:"getValidSelector",value:function(e,t){var n=["min-width","max-width"];n.forEach(function(n){if(e.indexOf(n)!==-1){var i=new RegExp(n+'~="(.*)px"]');t({selectorText:e,selector:n,value:e.match(i)[1]})}})}}]),e}();t.a=r},function(e,t,n){var i,o;!function(r,s){i=s,o="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==o&&(e.exports=o))}(this,function(){function e(e,t){var n=Object.prototype.toString.call(e),i="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,o=0,r=e.length;if(i)for(;o<r;o++)t(e[o]);else t(e)}if("undefined"==typeof window)return null;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},n=function(i,o){function r(){var e=[];this.add=function(t){e.push(t)};var t,n;this.call=function(){for(t=0,n=e.length;t<n;t++)e[t].call()},this.remove=function(i){var o=[];for(t=0,n=e.length;t<n;t++)e[t]!==i&&o.push(e[t]);e=o},this.length=function(){return e.length}}function s(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function c(e,n){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(n)}else e.resizedAttached=new r,e.resizedAttached.add(n);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var i="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",o="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=i,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+i+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+i+'"><div style="'+o+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),"static"==s(e,"position")&&(e.style.position="relative");var c,u,l,a,d=e.resizeSensor.childNodes[0],f=d.childNodes[0],h=e.resizeSensor.childNodes[1],p=e.offsetWidth,v=e.offsetHeight,y=function(){f.style.width="100000px",f.style.height="100000px",d.scrollLeft=1e5,d.scrollTop=1e5,h.scrollLeft=1e5,h.scrollTop=1e5};y();var m=function(){u=0,c&&(p=l,v=a,e.resizedAttached&&e.resizedAttached.call())},w=function(){l=e.offsetWidth,a=e.offsetHeight,c=l!=p||a!=v,c&&!u&&(u=t(m)),y()},x=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};x(d,"scroll",w),x(h,"scroll",w)}e(i,function(e){c(e,o)}),this.detach=function(e){n.detach(i,e)}};return n.detach=function(t,n){e(t,function(e){e.resizedAttached&&"function"==typeof n&&(e.resizedAttached.remove(n),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)})},n})},function(e,t,n){e.exports=n(0)}])});
//# sourceMappingURL=index.js.map